--love4u version: 0.1
local color = Color3.fromRGB(131, 155, 255)
local ntext = "SCMS GUI"

local rs = game:GetService("RunService")

local s = nil
local sf = nil


--local getgenv = getgenv
local cloneref = cloneref or function(x) return x end
local hui = function() return script.Parent end --gethui or get_hidden_ui --
local coregui = cloneref(game:GetService("CoreGui"))


local currentSl = nil

--if getgenv().FUCK then return end

--pcall(function() getgenv().FUCK = true end)

if not game:IsLoaded() then
	game.Loaded:Wait()
end

local plr = game.Players.LocalPlayer
local char = plr.Character


function notify(title: string, text: string)
	game:GetService("StarterGui"):SetCore("SendNotification",{
		Title = title,
		Text = text
	})
end


game:GetService("UserInputService").InputBegan:Connect(function(input, _g)
	if not s then return end
	if _g then return end

	if input.KeyCode == Enum.KeyCode.RightShift then
		if s.Enabled then
			notify("love4u - UI is hidden", "Press RightShift to open it")
			s.Enabled = false
		else
			s.Enabled = true
		end
	end
end)


notify("love4u - Join Discord", "https://discord.gg/smEse2a2")


local function rns()
	local length = math.random(6, 15)
	local array = {}
	for i = 1, length do
		array[i] = string.char(math.random(32, 126))
	end
	return table.concat(array)
end


local categories = {}

local function module_script()
	local module = {}

	local ts = game:GetService("TweenService")
	local info = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut)
	local selectorInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut)


	function module.getEnableTween(selector: TextButton) 
		return ts:Create(
			selector:FindFirstChildOfClass("Frame"),
			info,
			{BackgroundTransparency=0}
		)
	end

	function module.getDisableTween(selector: TextButton) 
		return ts:Create(
			selector:FindFirstChildOfClass("Frame"),
			info,
			{BackgroundTransparency=1}
		)
	end

	function module.getHoverTween(selector: TextButton)
		return ts:Create(
			selector:FindFirstChildOfClass("Frame"),
			info,
			{BackgroundTransparency=0.8}
		)
	end

	function module.getUnHoverTween(selector: TextButton)
		return ts:Create(
			selector:FindFirstChildOfClass("Frame"),
			info,
			{BackgroundTransparency=1}
		)
	end


	function module.selectorHover(selector: TextButton)
		return ts:Create(
			selector,
			info,
			{BackgroundTransparency=0.9}
		)
	end

	function module.selectorUnHover(selector: TextButton)
		return ts:Create(
			selector,
			info,
			{BackgroundTransparency=1}
		)
	end

	function module.selectorClicked(selector: TextButton)
		ts:Create(
			selector,
			info,
			{TextTransparency=0}
		):Play()

		ts:Create(
			selector,
			info,
			{BackgroundTransparency=0.7}
		):Play()

		ts:Create(
			selector:FindFirstChildOfClass("Frame"),
			selectorInfo,
			{BackgroundTransparency=0}
		):Play()
	end

	function module.selectorUnClicked(selector: TextButton)
		selector.TextTransparency = 0.5

		ts:Create(
			selector,
			info,
			{BackgroundTransparency=1}
		):Play()

		ts:Create(
			selector:FindFirstChildOfClass("Frame"),
			selectorInfo,
			{BackgroundTransparency=1}
		):Play()
	end


	function module.dropdownOpen(dropdown: TextButton)
		ts:Create(
			dropdown:FindFirstChildOfClass("ImageLabel"),
			info,
			{Rotation=180}
		):Play()
		ts:Create(
			dropdown.Dropdown,
			info,
			{Size=UDim2.new(1, 0, 6.406, 0)}
		):Play()
	end

	function module.dropdownClose(dropdown: TextButton)
		ts:Create(
			dropdown:FindFirstChildOfClass("ImageLabel"),
			info,
			{Rotation=0}
		):Play()
		ts:Create(
			dropdown:FindFirstChildOfClass("ScrollingFrame"),
			info,
			{Size=UDim2.new(1, 0, 0, 0)}
		):Play()
	end

	return module

end


module = module_script()


local function screenGui()
	local sg = Instance.new("ScreenGui")
	sg.Name = rns()
	sg.ResetOnSpawn = false

	if hui then
		sg.Parent = hui()
	else 
		sg.Parent = coregui
	end

	return sg
end

local function mf()
	local frame = Instance.new("Frame")

	local uc = Instance.new("UICorner")
	local uc2 = Instance.new("UICorner")

	local uac = Instance.new("UIAspectRatioConstraint")

	frame.Name = rns()
	frame.Parent = s
	frame.BackgroundColor3 = Color3.fromRGB(36, 36, 37)
	frame.BorderColor3 = Color3.fromRGB(0, 0, 0)
	frame.BorderSizePixel = 0
	frame.Position = UDim2.new(0.2, 0, 0.2, 0)
	frame.Size = UDim2.new(0.592118204, 0, 0.559171617, 0)
	uac.AspectRatio = 1.590
	uc.Parent = frame
	uac.Parent = frame

	local selectors = Instance.new("Frame")
	local placeholder = Instance.new("Frame")
	local ul = Instance.new("UIListLayout")
	sf = selectors

	selectors.Name = rns()
	selectors.Parent = frame
	selectors.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	selectors.BackgroundTransparency = 1.000
	selectors.BorderColor3 = Color3.fromRGB(0, 0, 0)
	selectors.BorderSizePixel = 0
	selectors.Position = UDim2.new(0, 0, 0.145646155, 0)
	selectors.Size = UDim2.new(0.16488792, 0, 0.852692008, 0)

	placeholder.Name = rns()
	placeholder.Parent = frame
	placeholder.BackgroundColor3 = Color3.fromRGB(51, 51, 54)
	placeholder.BorderColor3 = Color3.fromRGB(0, 0, 0)
	placeholder.BorderSizePixel = 0
	placeholder.Position = UDim2.new(0.166389331, 0, 0.148148149, 0)
	placeholder.Size = UDim2.new(0.83443284, 0, 0.852692008, 0)
	ul.Parent = selectors

	local naming = Instance.new("TextLabel")
	naming.Parent = frame
	naming.BackgroundTransparency = 1.000
	naming.BorderColor3 = Color3.fromRGB(0, 0, 0)
	naming.BorderSizePixel = 0
	naming.Size = UDim2.new(1.00000012, 0, 0.145646155, 0)
	naming.Font = Enum.Font.Arimo
	naming.Text = "SCMS GUI"
	naming.TextColor3 = Color3.fromRGB(131, 155, 255)
	naming.TextSize = 20.000

	local dragging
	local dragInput
	local dragStart
	local startPos

	local function update(input)
		local delta = input.Position - dragStart
		frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
	end

	frame.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = frame.Position

			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	frame.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			dragInput = input
		end
	end)

	game:GetService("UserInputService").InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			if s.Enabled then
				update(input)
			end
		end
	end)

	return frame
end


function category(mf: Frame)
	local c = Instance.new("Frame")
	local ul = Instance.new("UIListLayout")

	c.Name = rns()
	c.Parent = mf
	c.BackgroundTransparency = 1.000
	c.BorderSizePixel = 0
	c.Position = UDim2.new(0.183208853, 0, 0.173475236, 0)
	c.Size = UDim2.new(0.800000012, 0, 0.800000012, 0)
	c.ZIndex = 5
	c.Visible = false

	ul.Parent = c
	ul.SortOrder = Enum.SortOrder.LayoutOrder
	ul.Padding = UDim.new(0.0199999996, 0)

	table.insert(categories, c)

	return c
end


function categorySelector(mf: Frame, sText: string, cc: Frame)
	local sl = Instance.new("TextButton")
	sl.Name = rns()
	sl.Parent = sf
	sl.BackgroundColor3 = Color3.fromRGB(76, 76, 79)
	sl.BackgroundTransparency = 1.000
	sl.BorderColor3 = Color3.fromRGB(0, 0, 0)
	sl.BorderSizePixel = 0
	sl.Position = UDim2.new(0, 0, 0.102484472, 0)
	sl.Size = UDim2.new(1.01010096, 0, 0.102484472, 0)
	sl.AutoButtonColor = false
	sl.Font = Enum.Font.Ubuntu
	sl.Text = sText
	sl.TextColor3 = Color3.fromRGB(255, 255, 255)
	sl.TextSize = 14.000
	sl.TextTransparency = 0.500

	local c = Instance.new("Frame")
	c.Name = rns()
	c.Parent = sl
	c.BackgroundColor3 = color
	c.BackgroundTransparency = 1.000
	c.BorderSizePixel = 0
	c.Size = UDim2.new(1, 0, 0.0500000007, 0)
	c.Visible = false

	sl.MouseEnter:Connect(function()
		if not sl:FindFirstChildOfClass("Frame").Visible then
			module.selectorHover(sl):Play()
		end
	end)

	sl.MouseLeave:Connect(function()
		if not sl:FindFirstChildOfClass("Frame").Visible then
			module.selectorUnHover(sl):Play()
		end
	end)

	sl.MouseButton1Click:Connect(function()
		if not sl:FindFirstChildOfClass("Frame").Visible then
			if currentSl then
				module.selectorUnClicked(currentSl)
				currentSl:FindFirstChildOfClass("Frame").Visible = false
			end

			currentSl = sl

			sl:FindFirstChildOfClass("Frame").Visible = true

			module.selectorClicked(sl)

			for _, v in categories do
				v.Visible = false
			end

			cc.Visible = true
		end
	end)

	return sl
end


function buttonSelector(
	c: Frame, 
	slText: string, 
	afterEnable, 
	afterDisable
)
	local sl = Instance.new("Frame")
	sl.Name = rns()
	sl.Parent = c
	sl.BackgroundColor3 = Color3.fromRGB(45, 45, 47)
	sl.BorderColor3 = Color3.fromRGB(0, 0, 0)
	sl.BorderSizePixel = 0
	sl.Size = UDim2.new(1, 0, 0.102484472, 0)

	local text = Instance.new("TextLabel")
	text.Parent = sl
	text.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	text.BackgroundTransparency = 1.000
	text.BorderColor3 = Color3.fromRGB(0, 0, 0)
	text.BorderSizePixel = 0
	text.Position = UDim2.new(0.0219560787, 0, 0, 0)
	text.Size = UDim2.new(0.922155559, 0, 1, 0)
	text.Font = Enum.Font.Ubuntu
	text.Text = slText
	text.TextColor3 = Color3.fromRGB(255, 255, 255)
	text.TextSize = 14.000
	text.TextWrapped = true
	text.TextXAlignment = Enum.TextXAlignment.Left

	local btn = Instance.new("TextButton")
	local uc = Instance.new("UICorner")

	btn.Parent = sl
	btn.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
	btn.BorderColor3 = Color3.fromRGB(0, 0, 0)
	btn.BorderSizePixel = 0
	btn.Position = UDim2.new(0.944111764, 0, 0.181817561, 0)
	btn.Size = UDim2.new(0.0399999991, 0, 0.600000024, 0)
	btn.AutoButtonColor = false
	btn.Font = Enum.Font.SourceSans
	btn.Text = " "
	btn.TextColor3 = Color3.fromRGB(0, 0, 0)
	btn.TextSize = 14.000
	uc.Parent = btn

	local enable = Instance.new("Frame")
	local uc2 = Instance.new("UICorner")

	enable.Name = rns()
	enable.Parent = btn
	enable.BackgroundColor3 = Color3.fromRGB(63, 69, 192)
	enable.BackgroundTransparency = 1.000
	enable.BorderColor3 = Color3.fromRGB(0, 0, 0)
	enable.BorderSizePixel = 0
	enable.Position = UDim2.new(0.15500024, 0, 0.140000179, 0)
	enable.Size = UDim2.new(0.699999988, 0, 0.699999988, 0)
	enable.ZIndex = 3
	uc2.Parent = enable

	btn:SetAttribute("Clicked", false)

	local btnHover = module.getHoverTween(btn)
	local btnUnHover = module.getUnHoverTween(btn)
	local btnClicked = module.getEnableTween(btn)
	local btnUnClicked = module.getDisableTween(btn)

	btn.MouseEnter:Connect(function()
		if not btn:GetAttribute("Clicked") then
			btnHover:Play()
		end
	end)

	btn.MouseLeave:Connect(function()
		if not btn:GetAttribute("Clicked") then
			btnUnHover:Play()
		end
	end)

	btn.MouseButton1Click:Connect(function()
		if btn:GetAttribute("Clicked") then
			btn:SetAttribute("Clicked", false)
			btnUnClicked:Play()

			afterDisable()
		else
			btn:SetAttribute("Clicked", true)

			btnClicked:Play()
			afterEnable()
		end
	end)
end


function numberSelector(
	c: Frame, 
	slText: string, 
	min: number,
	max: number,
	afterChange: (n: number) -> ()
)
	local num = min

	local sl = Instance.new("Frame")
	sl.Name = rns()
	sl.Parent = c
	sl.BackgroundColor3 = Color3.fromRGB(45, 45, 47)
	sl.BorderColor3 = Color3.fromRGB(0, 0, 0)
	sl.BorderSizePixel = 0
	sl.Size = UDim2.new(1, 0, 0.102484472, 0)

	local text = Instance.new("TextLabel")
	text.Parent = sl
	text.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	text.BackgroundTransparency = 1.000
	text.BorderColor3 = Color3.fromRGB(0, 0, 0)
	text.BorderSizePixel = 0
	text.Position = UDim2.new(0.0219560787, 0, 0, 0)
	text.Size = UDim2.new(0.922155559, 0, 1, 0)
	text.Font = Enum.Font.Ubuntu
	text.Text = slText
	text.TextColor3 = Color3.fromRGB(255, 255, 255)
	text.TextSize = 14.000
	text.TextWrapped = true
	text.TextXAlignment = Enum.TextXAlignment.Left

	local add = Instance.new("TextButton")
	add.Parent = sl
	add.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
	add.BackgroundTransparency = 1.000
	add.BorderColor3 = Color3.fromRGB(0, 0, 0)
	add.BorderSizePixel = 0
	add.Position = UDim2.new(0.944111764, 0, 0.181817561, 0)
	add.Size = UDim2.new(0.0399999991, 0, 0.600000024, 0)
	add.Font = Enum.Font.Ubuntu
	add.Text = "+"
	add.TextColor3 = Color3.fromRGB(255, 255, 255)
	add.TextScaled = true
	add.TextSize = 14.000
	add.TextWrapped = true

	local subtract = Instance.new("TextButton")
	subtract.Parent = sl
	subtract.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
	subtract.BackgroundTransparency = 1.000
	subtract.BorderColor3 = Color3.fromRGB(0, 0, 0)
	subtract.BorderSizePixel = 0
	subtract.Position = UDim2.new(0.81503284, 0, 0.181817561, 0)
	subtract.Size = UDim2.new(0.0399999991, 0, 0.600000024, 0)
	subtract.Font = Enum.Font.Ubuntu
	subtract.Text = "-"
	subtract.TextColor3 = Color3.fromRGB(255, 255, 255)
	subtract.TextScaled = true
	subtract.TextSize = 14.000
	subtract.TextWrapped = true

	local value = Instance.new("TextLabel")
	local uc = Instance.new("UICorner")
	value.Parent = sl
	value.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
	value.BorderColor3 = Color3.fromRGB(0, 0, 0)
	value.BorderSizePixel = 0
	value.Position = UDim2.new(0.856559277, 0, 0.181999907, 0)
	value.Size = UDim2.new(0.0858021453, 0, 0.600000024, 0)
	value.Font = Enum.Font.Ubuntu
	value.Text = num
	value.TextColor3 = Color3.fromRGB(255, 255, 255)
	value.TextScaled = true
	value.TextSize = 14.000
	value.TextWrapped = true
	uc.Parent = value

	add.MouseButton1Click:Connect(function()
		if num == max then return end

		num += 1
		value.Text = num
		afterChange(num + 1)
	end)

	subtract.MouseButton1Click:Connect(function()
		if num == min then return end

		num -= 1
		value.Text = num
		afterChange(num - 1)
	end)
end



s = screenGui()
local main = mf(s)


local tweaks = category(main)
local tweaksSelector = categorySelector(
	main,
	"Tweaks",
	tweaks
)

local vtConnections = {}
local vt = buttonSelector(
	tweaks,
	"Visibility tweaks",
	
	function()
		game.Lighting:FindFirstChildOfClass("Atmosphere").Parent = game.Workspace
		main:WaitForChild("dmg").Visible = false

		local c = plr.CharacterAdded:Connect(function(char)
			main:WaitForChild("dmg").Visible = false
		end)

		local h = rs.Heartbeat:Connect(function()
			game.Lighting.ClockTime = 14
		end)

		local r = rs.RenderStepped:Connect(function()
			game.Lighting.Ambient = Color3.fromRGB(138, 134, 114)
			game.Lighting.OutdoorAmbient = Color3.fromRGB(128, 127, 110)
		end)

		table.insert(vtConnections, c)
		table.insert(vtConnections, h)
		table.insert(vtConnections, r)
	end,
	
	function()
		game.Workspace:FindFirstChildOfClass("Atmosphere").Parent = game.Lighting
		plr.PlayerGui:WaitForChild("main"):WaitForChild("dmg").Visible = true
		
		for i, v in vtConnections do
			v:Disconnect()
			vtConnections[i] = nil
		end
	end
)


local currentLight = nil
local currentBrightness = 1
local clConnection = nil

local cl = buttonSelector(
	tweaks,
	"Character light",
	
	function()
		local function cLight()
			local light = Instance.new("PointLight")
			light.Name = "Light"
			light.Range = 60
			light.Brightness = currentBrightness
			light.Parent = char.HumanoidRootPart

			currentLight = light
		end
		
		cLight()
		clConnection = workspace.players.ChildAdded:Connect(function(newChar)
			if newChar.Name == plr.Name then
				char = newChar
				cLight()
			end
		end)
	end,
	
	function()
		if currentLight then currentLight:Destroy() end
	end
)

local clSelect = numberSelector(
	tweaks,
	"Character light Brightness",
	1, 10,
	
	function(n)
		currentBrightness = n
		if currentLight then
			currentLight.Brightness = currentBrightness
		end
	end
)
